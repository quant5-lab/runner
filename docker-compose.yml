services:
  runner:
    build:
      context: ..
      dockerfile: runner/Dockerfile
    image: runner-app
    container_name: runner-dev
    volumes:
      - ./src:/app/src:ro
      - ./tests:/app/tests:ro
      - ./strategies:/app/strategies:rw
      - ./services:/app/services:ro
      - ../PineTS:/PineTS:ro
    environment:
      - SYMBOL=${SYMBOL:-BTCUSDT}
      - TIMEFRAME=${TIMEFRAME:-1h}
      - BARS=${BARS:-100}
      - STRATEGY=${STRATEGY:-}
    command: pnpm start
    networks:
      - runner-net

networks:
  runner-net:
    driver: bridge
